<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8" />
  <title>Latihan Gurisan Trengkas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <script>
    window.API_BASE = 'https://gurisan-trengkas-backend.onrender.com';
  </script>
</head>
<body>
  <header class="header">
    <div class="brand">
      <div class="logo">ğŸ“</div>
      <div>
        <h1>Latihan Gurisan Trengkas</h1>
        <p class="subtitle">Sistem Trengkas Pitman 2000 Malaysia menggunakan gurisan untuk mewakili bunyi konsonan.</p>
      </div>
    </div>
    <div class="actions">
      <button id="exportCsvBtn" class="secondary">Eksport CSV Rekod</button>
      <label class="file-btn">
        Import CSV Rekod
        <input type="file" id="importCsvInput" accept=".csv" hidden />
      </label>
      <button id="resetPrestasiBtn" class="danger">Reset Prestasi</button>
      <button id="toggleSpeakerBtn" class="secondary">ğŸ”Š Speaker On</button>
    </div>
  </header>

  <main class="layout">
    <section class="panel">
      <h2>Perkataan sasaran (Latihan)</h2>
      <div class="modes">
        <label><input type="radio" name="mode" value="bebas" checked /> Bebas</label>
        <label><input type="radio" name="mode" value="rawak" /> Rawak</label>
        <label><input type="radio" name="mode" value="ditetapkan" /> Ditetapkan</label>
      </div>
      <div class="target-row">
        <input id="perkataan" placeholder="Contoh: lusa, buku, rumah..." />
        <button id="pilihRawakBtn" class="secondary" disabled>Pilih Rawak</button>
        <select id="senaraiDitETapkan" disabled></select>
      </div>

      <div class="canvas-toolbar">
        <button id="penBtn" class="primary">Pen</button>
        <button id="padamBtn" class="secondary">Padam</button>
        <label><input type="checkbox" id="toggleGuides" checked /> Garis panduan</label>
        <label><input type="checkbox" id="toggleBaseline" checked /> Baseline</label>
        <select id="saizGurisan">
          <option value="normal">Biasa (0.5 cm)</option>
          <option value="separuh">Separuh (0.25 cm)</option>
        </select>
      </div>

      <div class="canvas-wrap">
        <span id="labelAtas" class="guide-label">Atas</span>
        <span id="labelBaseline" class="guide-label baseline">Baseline</span>
        <span id="labelBawah" class="guide-label">Bawah</span>
        <canvas id="canvas" width="800" height="300"></canvas>
      </div>

      <div class="canvas-actions">
        <button id="semakBtn" class="primary">Semak Gurisan</button>
        <button id="tekaSukuKataBtn" class="secondary">Teka Suku Kata</button>
        <button id="ulangSebutanBtn" class="secondary">ğŸ”Š Ulang Sebutan</button>
        <button id="bersihBtn" class="secondary">Bersihkan</button>
        <button id="muatTurunBtn" class="secondary">Muat Turun</button>
      </div>

      <div id="hasil" class="hasil">Tiada semakan lagi</div>
      <div id="deteksiGurisan" class="hasil small">Status gurisan: belum dianalisis</div>
    </section>

    <section class="panel">
      <h2>Rekod Prestasi</h2>
      <div class="stats-grid">
        <div class="stat green"><h3>âœ… Betul</h3><p id="betul">0</p><small>Cubaan berjaya</small></div>
        <div class="stat red"><h3>âŒ Salah</h3><p id="salah">0</p><small>Perlu penambahbaikan</small></div>
        <div class="stat blue"><h3>ğŸ“ˆ Kadar Kejayaan</h3><p id="kejayaan">0%</p><small>0 cubaan keseluruhan</small></div>
        <div class="stat purple"><h3>ğŸ¯ Purata Ketepatan</h3><p id="ketepatan">0%</p><small>Ketepatan gurisan anda</small></div>
        <div class="stat yellow"><h3>â­ Tahap Kemahiran</h3><p id="tahap">Pemula</p><small>Jangan putus asa! Latihan membawa kejayaan.</small></div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <p>&copy; 2025 Latihan Trengkas</p>
  </footer>

  <script src="words.js"></script>
  <script src="app.js"></script>
</body>
</html>
