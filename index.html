<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Latihan Gurisan Trengkas</title>

    <!-- Manifest untuk PWA -->
    <link rel="manifest" href="manifest.webmanifest" />

    <!-- Stylesheet utama -->
    <link rel="stylesheet" href="style.css" />

    <!-- Icon -->
    <link rel="icon" type="image/png" href="icons/icon-192.png" />
</head>

<body>

    <!-- ✅ HEADER -->
    <header class="header">
        <div class="brand">
            <div class="logo">✏️</div>
            <div>
                <h1>Latihan Gurisan Trengkas</h1>
                <p class="subtitle">
                    Sistem Trengkas Pitman 2000 Malaysia menggunakan gurisan untuk mewakili bunyi konsonan.
                </p>
            </div>
        </div>

        <!-- ✅ BUTANG KECIL MENEGAK (ELEGAN) -->
        <div class="actions" style="flex-direction: column; align-items: flex-end;">
            <button class="secondary miniBtn" id="muteButton">Mute</button>
            <button class="secondary miniBtn" id="saveButton">Simpan</button>
            <button class="secondary miniBtn" id="loadButton">Muat</button>
            <button class="secondary miniBtn" id="helpButton">Bantuan</button>
            <button class="secondary miniBtn" id="settingsButton">Tetapan</button>
        </div>
    </header>

    <!-- ✅ LAYOUT UTAMA -->
    <main class="layout">

        <!-- ✅ PANEL LATIHAN -->
        <section class="panel latihan-section">

            <h2>Latihan Gurisan</h2>

            <!-- Pilihan Mode -->
            <div class="modes">
                <label><input type="radio" name="mode" value="bebas" id="modeBebas" checked /> Bebas</label>
                <label><input type="radio" name="mode" value="rawak" id="modeRawak" /> Rawak</label>
                <label><input type="radio" name="mode" value="ditetapkan" id="modeDitetapkan" /> Ditetapkan</label>
            </div>

            <!-- Input Perkataan -->
            <div class="target-row">
                <input type="text" id="wordInput" placeholder="Contoh: lusa, buku, rumah..." />
                <button id="btnPilihRawak" class="secondary">Pilih Rawak</button>
            </div>

            <!-- Dropdown Perkataan -->
            <div class="target-row" style="margin-top: 8px;">
                <select id="wordDropdown">
                    <option value="">— Pilih perkataan —</option>
                </select>
            </div>

            <!-- Tools -->
            <div class="canvas-toolbar">
                <button id="btnPen" class="primary">Pen</button>
                <button id="btnPadam" class="secondary">Padam</button>

                <label><input type="checkbox" id="showGuides" checked /> Garis panduan</label>
                <label><input type="checkbox" id="showBaseline" checked /> Baseline</label>

                <select id="baselineSpacing">
                    <option value="0.5">Biasa (0.5 cm)</option>
                    <option value="0.7">Luas (0.7 cm)</option>
                    <option value="0.3">Rapat (0.3 cm)</option>
                </select>
            </div>

            <!-- ✅ KANVAS -->
            <div class="canvas-wrap">
                <canvas id="guidesCanvas"></canvas>
                <canvas id="canvas"></canvas>
            </div>

            <!-- Butang Aksi -->
            <div class="canvas-actions">
                <button id="btnSemakGurisan" class="primary">Semak Gurisan</button>
                <button id="btnTekaSukuKata" class="secondary">Teka Suku Kata</button>
                <button id="btnUlangSebutan" class="secondary">Ulang Sebutan</button>
                <button id="btnBersihkan" class="danger">Bersihkan</button>
            </div>

            <!-- Hasil -->
            <div id="syllableResult" class="hasil"></div>

        </section>

        <!-- ✅ PANEL SISI (REKOD PRESTASI + PANDUAN) -->
        <aside class="side-panel">

            <!-- Rekod Prestasi -->
            <div class="panel rekod-prestasi">
                <h2>Rekod Prestasi</h2>

                <div class="stats-grid">
                    <div class="stat-card stat-green">
                        <div class="stat-title">Betul</div>
                        <div class="stat-value" id="statBetul">0</div>
                        <div class="stat-subtitle">Gurisan tepat</div>
                    </div>

                    <div class="stat-card stat-red">
                        <div class="stat-title">Salah</div>
                        <div class="stat-value" id="statSalah">0</div>
                        <div class="stat-subtitle">Perlu diperbaiki</div>
                    </div>

                    <div class="stat-card stat-blue wide">
                        <div class="stat-title">Jumlah Latihan</div>
                        <div class="stat-value" id="statJumlah">0</div>
                    </div>
                </div>
            </div>

            <!-- Panduan Trengkas -->
            <div class="panel panduan-trengkas">
                <h2>Panduan Trengkas</h2>
                <p class="panduan-intro">Rujukan ringkas untuk bentuk gurisan asas.</p>

                <table class="panduan-table">
                    <tr><th>Bunyi</th><th>Gurisan</th></tr>
                    <tr><td>P</td><td>Garis nipis menegak</td></tr>
                    <tr><td>B</td><td>Garis tebal menegak</td></tr>
                    <tr><td>T</td><td>Garis nipis mendatar</td></tr>
                    <tr><td>D</td><td>Garis tebal mendatar</td></tr>
                </table>

                <div class="jenis-gurisan">
                    <h3>Jenis Gurisan</h3>
                    <ul>
                        <li>Nipis = konsonan tak bersuara</li>
                        <li>Tebal = konsonan bersuara</li>
                        <li>Arah gurisan menentukan bunyi</li>
                    </ul>
                </div>
            </div>

        </aside>

    </main>

    <!-- Footer -->
    <footer class="footer">
        © 2025 Latihan Gurisan Trengkas — Dibangunkan untuk pembelajaran Pitman 2000 Malaysia.
    </footer>

    <!-- Scripts -->
    <script src="words.js"></script>
    <script src="app.js"></script>

</body>
</html>
