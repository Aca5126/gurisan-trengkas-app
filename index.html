<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8" />
  <title>Latihan Gurisan Trengkas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <script>
    // Tetapkan URL backend anda di sini
    window.API_BASE = 'https://gurisan-trengkas-backend.onrender.com';
  </script>
</head>
<body>
  <header class="header">
    <div class="brand">
      <div class="logo">ğŸ“</div>
      <div>
        <h1>Latihan Gurisan Trengkas</h1>
        <p class="subtitle">
          Sistem Trengkas Pitman 2000 Malaysia menggunakan gurisan untuk mewakili bunyi konsonan.
        </p>
      </div>
    </div>
    <div class="actions">
      <button id="exportCsvBtn" class="secondary">Eksport CSV Rekod</button>
      <label class="file-btn">
        Import CSV Rekod
        <input type="file" id="importCsvInput" accept=".csv" hidden />
      </label>
      <button id="resetPrestasiBtn" class="danger">Reset Prestasi</button>
      <button id="toggleSpeakerBtn" class="secondary">ğŸ”Š Speaker On</button>
    </div>
  </header>

  <main class="layout">
    <!-- Panel kiri: Latihan gurisan -->
    <section class="panel">
      <h2>Latihan Gurisan</h2>

      <div class="modes">
        <label><input type="radio" name="mode" value="bebas" checked /> Bebas</label>
        <label><input type="radio" name="mode" value="rawak" /> Rawak</label>
        <label><input type="radio" name="mode" value="ditetapkan" /> Ditetapkan</label>
      </div>

      <div class="target-row">
        <input id="perkataan" placeholder="Contoh: lusa, buku, rumah..." />
        <button id="pilihRawakBtn" class="secondary">Pilih Rawak</button>
        <select id="senaraiDitETapkan"></select>
      </div>

      <div class="canvas-toolbar">
        <button id="penBtn" class="primary">Pen</button>
        <button id="padamBtn" class="secondary">Padam</button>
        <label><input type="checkbox" id="toggleGuides" checked /> Garis panduan</label>
        <label><input type="checkbox" id="toggleBaseline" checked /> Baseline</label>
        <select id="saizGurisan">
          <option value="normal">Biasa (0.5 cm)</option>
          <option value="separuh">Separuh (0.25 cm)</option>
        </select>
      </div>

      <div class="canvas-wrap">
        <canvas id="guidesCanvas"></canvas>
        <canvas id="canvas"></canvas>
        <span id="labelAtas" class="guide-label">Atas</span>
        <span id="labelBaseline" class="guide-label baseline">Baseline</span>
        <span id="labelBawah" class="guide-label">Bawah</span>
      </div>

      <div class="canvas-actions">
        <button id="semakBtn" class="primary">Semak Gurisan</button>
        <button id="tekaSukuKataBtn" class="secondary">Teka Suku Kata</button>
        <button id="ulangSebutanBtn" class="secondary">ğŸ”Š Ulang Sebutan</button>
        <button id="bersihBtn" class="secondary">Bersihkan</button>
        <button id="muatTurunBtn" class="secondary">Muat Turun PNG + Teks</button>
      </div>

      <div id="hasil" class="hasil">Tiada semakan lagi</div>
      <div id="deteksiGurisan" class="hasil small">Status gurisan: belum dianalisis</div>
    </section>

    <!-- Panel kanan: Rekod Prestasi + Panduan Trengkas -->
    <section class="panel side-panel">
      <div class="rekod-prestasi">
        <h2>Rekod Prestasi</h2>
        <div class="stats-grid">
          <div class="stat-card stat-green">
            <div class="stat-title">Betul</div>
            <div id="betul" class="stat-value">0</div>
            <div class="stat-subtitle">Cubaan berjaya</div>
          </div>
          <div class="stat-card stat-red">
            <div class="stat-title">Salah</div>
            <div id="salah" class="stat-value">0</div>
            <div class="stat-subtitle">Perlu penambahbaikan</div>
          </div>
          <div class="stat-card stat-blue wide">
            <div class="stat-title">Kadar Kejayaan</div>
            <div id="kejayaan" class="stat-value">0%</div>
            <div id="kejayaanInfo" class="stat-subtitle">0 cubaan keseluruhan</div>
          </div>
          <div class="stat-card stat-purple">
            <div class="stat-title">Purata Ketepatan</div>
            <div id="ketepatan" class="stat-value">0%</div>
            <div class="stat-subtitle">Ketepatan gurisan anda secara keseluruhan</div>
          </div>
          <div class="stat-card stat-yellow">
            <div class="stat-title">Tahap Kemahiran</div>
            <div id="tahap" class="stat-value">Pemula</div>
            <div class="stat-subtitle">Jangan putus asa! Latihan membawa kejayaan.</div>
          </div>
        </div>
      </div>

      <div class="panduan-trengkas">
        <h2>Panduan Trengkas</h2>
        <p class="panduan-intro">
          Sistem Trengkas Pitman 2000 Malaysia menggunakan gurisan untuk mewakili bunyi konsonan.
        </p>

        <table class="panduan-table">
          <thead>
            <tr>
              <th>Gurisan</th>
              <th>Vokal</th>
              <th>Contoh</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Gurisan ke bawah</td>
              <td>a, e, i, o, u (bergantung konteks)</td>
              <td>ta, da, pa, ba</td>
            </tr>
            <tr>
              <td>Gurisan melintang</td>
              <td>a, e, i, o, u</td>
              <td>ka, ga</td>
            </tr>
            <tr>
              <td>Gurisan ke atas</td>
              <td>a, e, i, o, u</td>
              <td>ja, cha, na, ma</td>
            </tr>
            <tr>
              <td>Gurisan lengkung</td>
              <td>a, e, i, o, u</td>
              <td>ra, sa, la, va, tha</td>
            </tr>
          </tbody>
        </table>

        <div class="jenis-gurisan">
          <h3>Jenis Gurisan</h3>
          <ul>
            <li><strong>Gurisan ke bawah:</strong> Garis menegak turun â€” t, d, p, b</li>
            <li><strong>Gurisan melintang:</strong> Garis mendatar â€” k, g</li>
            <li><strong>Gurisan ke atas:</strong> Garis menegak naik â€” j, ch, n, m</li>
            <li><strong>Gurisan lengkung:</strong> Garis melengkung â€” r, s, l, v, th</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <p>&copy; 2025 Latihan Trengkas</p>
  </footer>

  <script src="words.js"></script>
  <script src="app.js?v=2"></script>
</body>
</html>
