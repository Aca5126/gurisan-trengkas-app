<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <title>Latihan Gurisan Trengkas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css">
  <script>
    // URL backend kekal
    window.API_BASE = 'https://gurisan-trengkas-backend.onrender.com';
  </script>
</head>
<body>
  <header class="header">
    <div class="brand">
      <div class="logo">ğŸ“</div>
      <div>
        <h1>Latihan Gurisan Trengkas</h1>
        <p class="subtitle">Sistem Trengkas Pitman 2000 Malaysia menggunakan gurisan untuk mewakili bunyi konsonan.</p>
      </div>
    </div>
    <div class="actions">
      <button id="exportCsvBtn" class="secondary">Eksport CSV Rekod</button>
      <label class="file-btn">
        Import CSV Rekod
        <input type="file" id="importCsvInput" accept=".csv" hidden>
      </label>
      <button id="resetPrestasiBtn" class="danger">Reset Prestasi</button>
    </div>
  </header>

  <main class="layout">
    <section class="panel">
      <h2>Perkataan sasaran (Latihan)</h2>
      <p class="hint">Contoh: lusa, buku, rumah...</p>
      <div class="modes">
        <label><input type="radio" name="mode" value="bebas" checked> Bebas</label>
        <label><input type="radio" name="mode" value="rawak"> Rawak</label>
        <label><input type="radio" name="mode" value="ditetapkan"> Ditetapkan dari senarai</label>
      </div>

      <div class="target-row">
        <input id="perkataan" placeholder="Contoh: lusa, buku, rumah..." aria-label="Perkataan sasaran">
        <button id="pilihRawakBtn" class="secondary">Pilih Rawak</button>
        <select id="senaraiDitETapkan" title="Senarai ditetapkan"></select>
      </div>

      <p class="small">Masukkan perkataan yang anda ingin guris, kemudian lukis gurisan trengkas di bawah.</p>

      <div class="canvas-toolbar">
        <button id="penBtn" class="primary">Pen</button>
        <button id="padamBtn" class="secondary">Padam</button>
        <span class="sep"></span>
        <label class="checkbox">
          <input type="checkbox" id="toggleGuides" checked> Garis panduan
        </label>
        <label class="checkbox">
          <input type="checkbox" id="toggleBaseline" checked> Baseline
        </label>
        <label>
          Saiz gurisan:
          <select id="saizGurisan">
            <option value="normal" selected>Biasa (0.5 cm)</option>
            <option value="separuh">Separuh (0.25 cm)</option>
          </select>
        </label>
      </div>

      <div class="canvas-wrap">
        <canvas id="canvas" width="800" height="300" aria-label="Kanvas gurisan"></canvas>
      </div>

      <div class="canvas-actions">
        <button id="semakBtn" class="primary">Semak Gurisan</button>
        <button id="bersihBtn" class="secondary">Bersihkan</button>
        <button id="muatTurunBtn" class="secondary">Muat Turun</button>
      </div>

      <div id="hasil" class="hasil">Tiada semakan lagi</div>
    </section>

    <section class="panel">
      <h2>Rekod prestasi</h2>
      <div class="stats">
        <div class="stat"><span class="label">Betul:</span> <span id="betul">0</span></div>
        <div class="stat"><span class="label">Salah:</span> <span id="salah">0</span></div>
        <div class="stat"><span class="label">Kadar Kejayaan:</span> <span id="kejayaan">0%</span></div>
        <div class="stat"><span class="label">Purata Ketepatan:</span> <span id="ketepatan">0%</span></div>
        <div class="stat"><span class="label">Tahap Kemahiran:</span> <span id="tahap">Pemula</span></div>
      </div>

      <h3>Panduan trengkas Pitman 2000 (Malaysia)</h3>
      <p>Sistem Trengkas Pitman 2000 Malaysia menggunakan gurisan untuk mewakili bunyi konsonan. Setiap jenis gurisan mewakili kumpulan bunyi tertentu.</p>

      <div class="guide-grid">
        <div class="guide">
          <h4>Gurisan ke bawah</h4>
          <p>t, d, p, b</p>
          <div class="guide-lines">
            <div class="dash"></div>
            <div class="base thick"></div>
            <div class="dash"></div>
          </div>
        </div>
        <div class="guide">
          <h4>Gurisan melintang</h4>
          <p>k, g, s, z</p>
          <div class="guide-lines horizontal">
            <div class="dash"></div>
            <div class="base thick"></div>
            <div class="dash"></div>
          </div>
        </div>
        <div class="guide">
          <h4>Gurisan ke atas</h4>
          <p>l, r, m, n</p>
          <div class="guide-lines up">
            <div class="dash"></div>
            <div class="base thick"></div>
            <div class="dash"></div>
          </div>
        </div>
        <div class="guide">
          <h4>Gurisan lengkung</h4>
          <p>f, v, th</p>
          <div class="guide-lines curve">
            <div class="dash"></div>
            <div class="base thick"></div>
            <div class="dash"></div>
          </div>
        </div>
      </div>

      <details class="mt">
        <summary>Saiz gurisan</summary>
        <p>Biasa: 0.5 cm | Separuh: 0.25 cm</p>
      </details>

      <details>
        <summary>Contoh latihan (300 perkataan)</summary>
        <p>Pilih â€œRawakâ€ atau â€œDitentukanâ€ untuk menggunakan senarai 300 perkataan asas latihan.</p>
        <ul id="contohList" class="contoh-list"></ul>
      </details>
    </section>
  </main>

  <footer class="footer">
    <p>&copy; 2025 Latihan Trengkas â€” Fokus pada aksesibiliti dan pembelajaran autentik.</p>
  </footer>

  <script src="words.js"></script>
  <script src="app.js"></script>
</body>
</html>
